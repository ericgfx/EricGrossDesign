!function(e,t,n){function a(e){return"[object Function]"===L.call(e)}function i(e){return"[object Object]"===L.call(e)}function o(e){return"[object String]"===L.call(e)}function r(e){return"[object Array]"===L.call(e)}function c(){var e={},t=!1,n=0,a=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var i=function(n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=t&&"[object Object]"===Object.prototype.toString.call(n[a])?c(!0,e[a],n[a]):n[a])};a>n;n++){var o=arguments[n];i(o)}return e}function s(e){void 0===e&&(e=G.href);for(var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"qs",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[t.strictMode?"strict":"loose"].exec(e),a={},i=14;i--;)a[t.key[i]]=n[i]||"";return a[t.q.name]={},a[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(a[t.q.name][n]=decodeURIComponent(i))}),a}function d(){return(65536*(1+Math.random())).toString()}function l(e){U.setid(d()),a(e)&&e(N)}function u(e){if("undefined"==typeof window.jQuery)return void U.setid(d());if("undefined"!=typeof window.jQuery&&window.jQuery.ajax&&a(window.jQuery.ajax)){var t=B.url+B.idpath+B.cid[0];window.jQuery.ajax({url:t,dataType:"jsonp",success:function(t){U.setid(t),C="t",e(t)}})}}function f(){var e="";try{e=top.document.referrer}catch(n){try{e=parent.document.referrer}catch(a){e=""}}return""===e&&(e=t.referrer),e}function p(e){return B=c(U.config,e),B.loadid&&(B.getid=u),U.config=B,_(),U}function g(e,t,n){t.opts=c({},n),e in X?X[e].push(t):X[e]=[t]}function h(e){var t,n=[],i=[],o=Array.prototype.slice.call(arguments,1);if(X[e]&&X[e].length)for(var r=0,c=X[e].length;c>r;r++)a(X[e][r])&&(t=X[e][r],t.opts.onetime?n.push(t):(t.apply({},o),i.push(X[e][r])));X[e]=i;for(var s=n[W]-1;s>=0;s--)n[s].apply({},o)}function m(e){o(e[1])&&e[1]in U?g(e[0],function(){U[e[1]].apply(U,D.call(e[2]?e[2]:{}))}):g.apply(U,[e[0]].concat(D.call(e[1])))}function v(){if("_q"in U&&r(U._q))for(var e=U._q.length-1;e>=0;e--)m(U._q[e])}function b(e){if(P=t.cookie,P[W]>0){var n,a=P.indexOf(e+"=");if(-1!=a)return a+=e.length+1,n=P.indexOf(";",a),-1==n&&(n=P[W]),unescape(P.substring(a,n))}return null}function y(e,n,a,i,o,r){var c=o;if(!o&&$&&$.host){var s=$.host.split(".");c=$.host,s.length>1&&(o="."+s[s.length-2]+"."+s[s.length-1])}i=i||"/";var d=e+"="+escape(n)+(a?"; expires="+a.toGMTString():"")+(i?"; path="+i:"")+(o?"; domain="+o:"")+(r?"; secure":""),l=e+"="+escape(n)+(a?"; expires="+a.toGMTString():"")+(i?"; path="+i:"")+(c?"; domain="+c:"")+(r?"; secure":"");t.cookie=d,t.cookie=l}function k(e,t,n){return e+=e.indexOf("?")<1?"?":"&",e+t+"="+n}function w(){var e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4));return t?!0:!1}function _(){H=b(U.config.sesname);for(var e in $.qs)0===e.indexOf("utm_")&&(K[e]=$.qs[e]);if(U.config.qsargs&&r(U.config.qsargs))for(var t=null,a=U.config.qsargs.length-1;a>=0;a--)t=U.config.qsargs[a],t in $.qs&&(K[t]=$.qs[t]);if(H||(K._sesstart="1"),V&&V[W]>1){var i=V.toString().match(/\/\/(.*)\//);i&&-1==i[1].indexOf(G.host)&&(K._ref=V.replace("http://","").replace("https://",""),H||(K._sesref=V.replace("http://","").replace("https://","")))}var o=new Date;o.setTime(o.getTime()+1e3*U.config.sessecs),y(U.config.sesname,"e",o),K._tz=parseInt(o.getTimezoneOffset()/60*-1)||"0",K._ul="Netscape"==n.appName?n.language:n.userLanguage,"object"==typeof screen&&(K._sz=screen.width+"x"+screen.height)}function j(e){return encodeURIComponent(e)}function x(e,t){var n=[],c="";if(1==arguments.length&&(t=""),r(e)){window.JSON&&n.push("_json="+j(JSON.stringify(e)));for(var s=e.length-1;s>=0;s--)n.push(x(e[s],t));return n.join("&")}for(var d in e)if(e.hasOwnProperty(d))if(c=j(d),""!==t&&(c=t+"."+c),i(e[d]))n.push(x(e[d],d));else if(a(e[d]))n.push(c+"="+j(e[d]()));else if(r(e[d])){n.push(c+"_len="+e[d].length),window.JSON&&n.push(c+"_json="+j(window.JSON.stringify(e[d])));for(var l=e[d].length-1;l>=0;l--)i(e[d][l])?n.push(x(e[d][l],c)):null!==e[d][l]&&void 0!==e[d][l]&&n.push(c+"="+j(e[d][l]))}else o(e[d])&&e[d].length>0?n.push(c+"="+j(e[d])):null!==e[d]&&void 0!==e[d]&&n.push(c+"="+j(e[d]));return n.join("&")}function q(e){return this instanceof q?(this.init(e),this):new q(e)}function z(e){var t,n,a,i;i=!1;for(var o in arguments)switch(typeof arguments[o]){case"string":t=arguments[o];break;case"boolean":i=arguments[o];break;case"function":a=arguments[o];break;case"object":n=arguments[o];break;default:console.warn("unable to process jstag.send event: unknown value type ("+typeof arguments[o]+")")}return(void 0===n||null===n)&&(n={}),{data:n,callback:a,stream:t,mock:i}}function O(e){U.config.blockload=!0,"number"!=typeof e&&(e=2e3),setTimeout(function(){U.unblock()},e)}function A(){U.config.blockload=!1;for(var e=0;e<U.config.payloadQueue.length;e++)Q(U.config.payloadQueue[e]);U.config.payloadQueue.length=0}function Q(e){if(U.config.blockload&&!e.mock)return void U.config.payloadQueue.push(e);if(e.mock){for(var t={},n=0,a=U.config.payloadQueue.length;a>n;n++)t=c(t,U.config.payloadQueue[n].data);e.data=c(t,e.data)}if("io"in J&&r(J.io))for(var i=J.io.length-1;i>=0;i--)return J.io[i].send(e);else{var o=new q;o.send(e)}}function S(){var e;e=z.apply(this,arguments),Q(e)}function I(){var e=[].slice.call(arguments);e.push(!0),U.send.apply(U,e)}function T(){var e;e=z.apply(this,arguments),"_e"in e.data||(e.data._e="pv");for(var t in K)e.data[t]=K[t];Q(e)}function M(){var e;e=z.apply(this,arguments),Q(e)}function E(e,t){var n="";t=t||"";for(var o in e)i(e[o])?n+=E(e[o],o+"."):a(e[o])||(n+="<tr><td>"+t+o+"</td><td>"+e[o]+"</td></tr>");return n}var N,R,C,G=t.location,P=t.cookie,U=e.jstag||{},B=U.config||{},W="length",F="2.0.0",J={},D=Array.prototype.slice,L=Object.prototype.toString,V=f(),$=s(),H=void 0,K={};e.jstag=U,U.isLoaded=!0,U.isSendable=!1,e.console||(e.console={log:function(){}}),U.config=c({url:"",Q:[],payloadQueue:[],id:void 0,cid:void 0,getid:l,loadid:void 0,serializer:x,pipeline:["identity","analyze"],delay:2e3,blockload:!1,path:"/c/",idpath:"/cid/",cookie:"seerid",sesname:"seerses",stream:void 0,sessecs:1800,channel:"Gif",qsargs:[],ref:!0,tagid:"jstag-csdk",pagedata:{},version:F},B),U.extend=c,U.parseUri=s,U.setid=function(e){N=e;var t=b(B.cookie);t&&t[W]&&"undefined"!=t&&(R=t);var n=new Date;n.setTime(n.getTime()+7776e6),y(B.cookie,e,n)},U.getid=function(e){if(B.getid&&a(B.getid)){e=e?e:function(){};var t=b(B.cookie);t&&t[W]&&"undefined"!=t?(N=t,e(N)):B.getid(e)}return N},"_c"in U&&p(U._c),U.init=U.connect=p;var X={};U.bind=g,U.emit=h,U.ckieGet=b,U.ckieSet=y,U.channels={Gif:function(n){return{images:[],send:function(n,i){if(t.images){var o=new Image,r=function(e){if(!i.callback.hasRun){i.callback.hasRun=!0;try{i.callback(e)}catch(t){}}};this.images.push(o),2===arguments.length&&i&&a(i.callback)&&(i.callback.hasRun=!1,o.onload&&(o.onload=r()),e.setTimeout(function(){r({timeout:!0})},U.config.delay)),o.src=this.getUrl(n)}},getUrl:function(e){var t=n.sendurl;return t+=t.indexOf("?")<1?"?":"&",t+e}}},Form:function(e){this.config=e;var n=function(t){var n=new U.channels.Gif(e);try{n.send(t)}catch(a){}};return{send:function(a,i){try{var o,r,c=t.createElement("iframe"),s="f"+Math.floor(99999*Math.random()),d=function(e){i&&i.callback&&!i.callback.hasRun&&(i.callback.hasRun=!0,i.callback(e))};t.body.appendChild(c),c.style.display="none",c.id=s,setTimeout(function(){return o=c.contentWindow.document.createElement("form"),c.contentWindow.document.body?(c.contentWindow.document.body.appendChild(o),o.setAttribute("action",e.sendurl),o.setAttribute("method","post"),r=c.contentWindow.document.createElement("input"),r.setAttribute("type","hidden"),r.setAttribute("name","_js"),r.value=a,o.appendChild(r),o.submit(),void setTimeout(function(){try{t.body.removeChild(c)}catch(e){}d({timeout:!0})},2*B.delay)):n(a)},0)}catch(l){n(a)}}}}};var Y={analyze:function(e){"_e"in e.data||(e.data._e="pv");for(var t in K)e.data[t]=K[t]},identity:function(t){if(w()){t.data._mob="t";var a="unknown";n.userAgent.match(/Android/i)?a="Android":n.userAgent.match(/BlackBerry/i)?a="Blackberry":n.userAgent.match(/iPhone|iPad|iPod/i)?a="IOS":n.userAgent.match(/IEMobile/i)&&(a="WinMobile"),t.data._device=a}else t.data._nmob="t",t.data._device="desktop";t.data.url=G.href.replace("http://","").replace("https://",""),e.location!=e.parent.location&&(t.data._if="t"),"_uid"in t.data&&(!t.data._uid||"null"==t.data._uid||"undefined"==t.data._uid)&&delete t.data._uid;var i=b("__utma"),o=-1;if(i&&i[W]>10&&(o=i.indexOf(".",10),t.data._ga=i.substring(0,o)),!("_uid"in t.data))if(N)t.data._uid=N;else{var r=b(B.cookie);r&&r[W]&&"undefined"!=r&&(N=t.data._uid=r)}C&&(t.data._getid="t"),R&&(t.data._uido=R);var c=b("optimizelyEndUserId");c&&(t.data.optimizelyid=c),"_v"in t.data||(t.data._v=F)}};Y.analyze.onetime=!0,U.Io=q,U.parseEvent=z,U.block=O,U.unblock=A,U.send=S,U.mock=I,U.pageView=T,U.identify=M,q.prototype=function(){var n=[],i=null,d=null,l=null;return{init:function(o){if(i=this,d=B,!d.url||""===d.url){var c=t.getElementById(d.tagid),u=null;c&&(u=s(c.getAttribute("src")),d.url="//"+u.authority)}if(!d.url||!d.cid)throw new Error("Must have collection url and ProjectIds (cid)");U.config.url=d.url,"cid"in d&&(U.config.cid=r(d.cid)?d.cid:[d.cid]),this.serializer=d.serializer,"io"in J?J.io.push(this):J.io=[this],this.channel=new U.channels[d.channel](d);for(var f=d.pipeline.length-1;f>=0;f--)l=d.pipeline[f],a(l)?n.push(l):l in Y?n.push(Y[l]):item in e&&n.push(e[l]);if(d.Q&&d.length>0)for(var p=d.Q.length-1;p>=0;p--)i.send.apply(i,d.Q[p]);d.Q&&(d.Q.push=function(){i.send.apply(i,Array.prototype.slice.call(arguments))}),U.emit("io.ready",this)},collect:function(e){var t,n=this,i={},r=B;if(U.emit("send.before",e),this.data=e.data,e.data._ca="jstag1",i=c(B.pagedata,e.data),t=this.serializer(i),e.sendurl||(e.sendurl=[]),e.sendurl.push(r.sendurl),e.dataMsg=t,e.channelName=r.channel,e.mock)return void(a(e.callback)&&e.callback(e,n));var s=this.channel;o(t)&&t.length+r.sendurl.length>2e3&&(s=new U.channels.Form(r),e.channelName="Form"),s.send(t,{callback:function(t){e.returndata=t,a(e.callback)&&e.callback(e,n),U.emit("send.finished",e,n)}})},send:function(e){if(r(B.cid))for(var t=B.cid.length-1;t>=0;t--)this.sendcid(B.cid[t],e);else this.sendcid(B.cid,e)},sendcid:function(e,t){var i=c(i,t.data)||{};t.data=i,t.config=this.config,t.data._ts=(new Date).getTime();var o=this,r=d.url+d.path+e,s=[];d.stream=t.stream||U.config.stream,d.sendurl=d.stream?r+"/"+d.stream:r,-1==d.sendurl.indexOf("_uidn=")&&"seerid"!=B.cookie&&(d.sendurl=k(d.sendurl,"_uidn",B.cookie));for(var l=n.length-1;l>=0;l--)n[l](t),n[l].onetime||s.push(n[l]);return!t.mock&&n.length>1&&(n=s),N?o.collect(t):void(B.getid&&a(B.getid)?B.getid(function(e){e&&!t.data._uid&&(t.data._uid=e,C="t",t.data._getid="t",N=e),o.collect(t)}):o.collect(t))},debug:function(){return"<table><tr><th>field</th><th>value</th></tr>"+E(this.data)+"<tr><th>config</th></tr><tr>"+E(B)+"</tr></table>"}}}(),e&&"jstagAsyncInit"in e&&a(e.jstagAsyncInit)&&e.jstagAsyncInit(),"ready"in U||(U.ready=function(){}),e.jstag._c&&e.jstag._c.blockload&&e.jstag.block(),U.load=function(){return this},v(),U.emit("ready")}(window,document,window.navigator);